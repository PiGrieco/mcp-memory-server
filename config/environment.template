# MCP Memory Server Configuration Template
# Copy this file to .env in the project root and update with your actual values

# ================================
# DATABASE CONFIGURATION
# ================================

# MongoDB Connection URI
# For MongoDB Atlas (recommended for production):
MONGODB_URI=mongodb+srv://username:password@cluster.mongodb.net/
# For local MongoDB:
# MONGODB_URI=mongodb://localhost:27017

# Database and Collection Names
MONGODB_DATABASE=mcp_memory_production
MONGODB_COLLECTION=memories

# Connection Pool Settings
MONGODB_MAX_POOL_SIZE=10
MONGODB_MIN_POOL_SIZE=1
MONGODB_MAX_IDLE_TIME_MS=30000

# ================================
# ML AUTO-TRIGGER CONFIGURATION
# ================================

# ML Model Configuration
ML_MODEL_TYPE=huggingface
HUGGINGFACE_MODEL_NAME=PiGrieco/mcp-memory-auto-trigger-model

# Trigger System Mode
# Options: hybrid, ml_only, deterministic_only
ML_TRIGGER_MODE=hybrid

# ML Model Cache Directory
ML_MODEL_CACHE_DIR=./models/cache

# Trigger Thresholds
ML_CONFIDENCE_THRESHOLD=0.6
SEMANTIC_THRESHOLD=0.7
IMPORTANCE_THRESHOLD=0.5

# ================================
# EMBEDDING CONFIGURATION
# ================================

# Embedding Provider
# Options: sentence_transformers, openai, huggingface
EMBEDDING_PROVIDER=sentence_transformers

# Embedding Model
EMBEDDING_MODEL=all-MiniLM-L6-v2

# Embedding Dimensions (auto-detected if not specified)
# EMBEDDING_DIMENSIONS=384

# OpenAI Configuration (if using OpenAI embeddings)
# OPENAI_API_KEY=your_openai_api_key_here
# OPENAI_EMBEDDING_MODEL=text-embedding-ada-002

# ================================
# SERVER CONFIGURATION
# ================================

# Server Settings
SERVER_HOST=localhost
SERVER_PORT=8000
SERVER_NAME=mcp-memory-server

# Environment
# Options: development, staging, production
ENVIRONMENT=production

# Debug Mode
DEBUG=false

# Worker Configuration
WORKERS=1
WORKER_TIMEOUT=30

# ================================
# SECURITY CONFIGURATION
# ================================

# API Authentication
API_KEY=your_secure_api_key_here

# CORS Settings
CORS_ORIGINS=*
CORS_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_HEADERS=*

# Rate Limiting
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_BURST=10

# ================================
# MEMORY CONFIGURATION
# ================================

# Auto-Save Settings
AUTO_SAVE_ENABLED=true
AUTO_SAVE_THRESHOLD=0.7

# Default Project Name
DEFAULT_PROJECT=default

# Memory Retention (days, 0 = forever)
MEMORY_RETENTION_DAYS=0

# Maximum Memory Content Length
MAX_CONTENT_LENGTH=10000

# ================================
# PLATFORM CONFIGURATION
# ================================

# Platform-Specific Settings
CURSOR_ENABLED=true
CLAUDE_ENABLED=true
GPT_ENABLED=true
WINDSURF_ENABLED=true
LOVABLE_ENABLED=true
REPLIT_ENABLED=true

# Platform-Specific Projects
CURSOR_DEFAULT_PROJECT=cursor-project
CLAUDE_DEFAULT_PROJECT=claude-conversations
GPT_DEFAULT_PROJECT=gpt-sessions

# ================================
# CACHING CONFIGURATION
# ================================

# Redis Configuration (optional)
# REDIS_URL=redis://localhost:6379/0
# REDIS_PASSWORD=your_redis_password

# Cache TTL (seconds)
EMBEDDING_CACHE_TTL=3600
SEARCH_CACHE_TTL=1800
ML_PREDICTION_CACHE_TTL=600

# ================================
# LOGGING CONFIGURATION
# ================================

# Log Level
# Options: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# Log Format
# Options: simple, detailed, json
LOG_FORMAT=detailed

# Log File Settings
LOG_TO_FILE=true
LOG_FILE_PATH=./logs/mcp_memory_server.log
LOG_FILE_MAX_SIZE=10MB
LOG_FILE_BACKUP_COUNT=5

# ================================
# MONITORING CONFIGURATION
# ================================

# Health Check Settings
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_INTERVAL=30

# Metrics Collection
METRICS_ENABLED=true
METRICS_ENDPOINT=/metrics

# Performance Monitoring
PERFORMANCE_MONITORING=true
SLOW_QUERY_THRESHOLD=1.0

# ================================
# DOCKER CONFIGURATION
# ================================

# Docker-specific settings (used when running in containers)
DOCKER_ENV=false

# Container Resource Limits
MEMORY_LIMIT=512m
CPU_LIMIT=1.0

# ================================
# BACKUP CONFIGURATION
# ================================

# Automatic Backup Settings
BACKUP_ENABLED=false
BACKUP_SCHEDULE=0 2 * * *  # Daily at 2 AM
BACKUP_RETENTION_DAYS=30
BACKUP_STORAGE_PATH=./backups

# Cloud Backup (optional)
# AWS_ACCESS_KEY_ID=your_aws_access_key
# AWS_SECRET_ACCESS_KEY=your_aws_secret_key
# AWS_S3_BUCKET=your-backup-bucket
# AWS_REGION=us-east-1

# ================================
# DEVELOPMENT CONFIGURATION
# ================================

# Development-only settings
DEV_MODE=false
DEV_RELOAD=false
DEV_MOCK_ML=false

# Testing Configuration
TEST_DATABASE=mcp_memory_test
TEST_MONGODB_URI=mongodb://localhost:27017

# ================================
# ADVANCED CONFIGURATION
# ================================

# Memory Optimization
MEMORY_CLEANUP_INTERVAL=3600
MEMORY_VACUUM_THRESHOLD=1000

# Search Optimization
SEARCH_INDEX_REBUILD_INTERVAL=86400
SEARCH_RESULT_CACHE_SIZE=1000

# ML Model Optimization
ML_MODEL_WARM_UP=true
ML_MODEL_BATCH_SIZE=32
ML_MODEL_MAX_LENGTH=512

# ================================
# FEATURE FLAGS
# ================================

# Experimental Features
FEATURE_ADVANCED_ANALYTICS=false
FEATURE_REAL_TIME_SYNC=false
FEATURE_MULTI_TENANT=false

# Legacy Support
SUPPORT_LEGACY_API=true
SUPPORT_V1_FORMAT=true

# ================================
# CUSTOM CONFIGURATION
# ================================

# Custom fields for specific deployments
CUSTOM_FIELD_1=
CUSTOM_FIELD_2=
CUSTOM_FIELD_3=

# Integration-specific settings
INTEGRATION_WEBHOOK_URL=
INTEGRATION_SECRET_KEY=
INTEGRATION_TIMEOUT=30
